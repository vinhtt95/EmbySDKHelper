/* Giao diện Dark Mode tổng thể */
.root {
    -fx-background-color: #242424; /* Nền tối hơn */
    -fx-font-family: "Segoe UI", Arial, sans-serif;
    -fx-font-size: 18px; /* TĂNG FONT CHỮ LÊN 18 */
}

/* Kiểu chữ cho nhãn (Label) */
.label {
    -fx-text-fill: #E0E0E0; /* Chữ màu sáng */
}

/* Kiểu cho nút bấm (Button) */
.button {
    -fx-background-color: #5C87B2; /* Màu xanh nhấn của Emby */
    -fx-text-fill: white;
    -fx-font-weight: bold;
    -fx-background-radius: 5px; /* Bo góc */
    -fx-padding: 8px 15px; /* Thêm padding chuẩn */
}

.button:hover {
    -fx-background-color: #7AA0C6; /* Màu khi di chuột */
}

/* Ô nhập liệu (TextField, PasswordField) */
.text-field, .password-field {
    -fx-background-color: #333333; /* Tối hơn */
    -fx-text-fill: #FFFFFF;
    -fx-border-color: #555555;
    -fx-border-radius: 5px;
    -fx-background-radius: 5px;
    -fx-padding: 8px; /* Thêm padding chuẩn */
}

/* ComboBox */
.combo-box .list-cell {
    -fx-background-color: #333333;
    -fx-text-fill: #E0E0E0;
}
.combo-box-popup .list-view .list-cell:filled:hover {
    -fx-background-color: #5C87B2;
    -fx-text-fill: white;
}
.combo-box-popup .list-view .list-cell:filled:selected {
    -fx-background-color: #5C87B2;
    -fx-text-fill: white;
}

/* Kiểu cho TabPane */
.tab-pane .tab-header-area .tab-header-background {
    -fx-background-color: #2A2A2A; /* Tối hơn */
}
.tab-pane .tab {
    -fx-background-color: #3A3A3A; /* Tối hơn */
    -fx-focus-color: transparent;
    -fx-faint-focus-color: transparent;
}
.tab-pane .tab:selected {
    -fx-background-color: #242424; /* Tab được chọn trùng màu nền root */
    -fx-border-color: #5C87B2;
    -fx-border-width: 0 0 3 0; /* Gạch chân màu xanh */
}
.tab .tab-label {
    -fx-text-fill: #E0E0E0;
    -fx-font-weight: bold;
}

/* === XÓA STYLE TextArea === */
/*
.text-area { ... }
.text-area .context-menu { ... }
.text-area .menu-item .label { ... }
.text-area .menu-item:focused { ... }
.text-area .menu-item:focused .label { ... }
*/

/* Kiểu cho TitledPane (khung chứa chức năng) */
.titled-pane {
    -fx-text-fill: white;
}
.titled-pane > .title {
    -fx-background-color: #333333; /* Tối hơn */
    -fx-border-color: #1F1F1F;
}
.titled-pane > .title > .text {
    -fx-fill: white;
    -fx-font-weight: bold;
}
.titled-pane > .content {
    -fx-background-color: #2D2D2D; /* Tối hơn */
    -fx-padding: 10px;
    -fx-border-color: #333333;
}

/* === XÓA STYLE CHIP CŨ === */
/*
.chip-button { ... }
.chip-button:hover { ... }
.chip-button:selected { ... }
.chip-button:selected:hover { ... }
*/

/* ScrollPane */
.scroll-pane {
    -fx-background-color: #1e1e1e; /* Nền tối cho scrollpane chứa chip */
    -fx-background: #1e1e1e;
    -fx-border-color: #3a3a3a;
    -fx-border-radius: 5px;
}
.scroll-pane .flow-pane { /* Đảm bảo FlowPane bên trong trong suốt */
    -fx-background-color: transparent;
}

/* ScrollBar */
.scroll-bar .increment-button, .scroll-bar .decrement-button {
    -fx-background-color: transparent;
    -fx-padding: 0;
}
.scroll-bar .increment-arrow, .scroll-bar .decrement-arrow {
    -fx-shape: " ";
}
.scroll-bar:vertical .thumb, .scroll-bar:horizontal .thumb {
    -fx-background-color: #444444;
    -fx-background-radius: 5;
    -fx-opacity: 0.0; /* Ẩn đi ban đầu */
    -fx-transition: opacity 0.3s ease;
}
.scroll-pane:hover .scroll-bar:vertical .thumb,
.scroll-pane:hover .scroll-bar:horizontal .thumb,
.scroll-bar:vertical:hover .thumb,
.scroll-bar:vertical:pressed .thumb,
.scroll-bar:horizontal:hover .thumb,
.scroll-bar:horizontal:pressed .thumb {
    -fx-opacity: 0.8;
}
.scroll-bar:vertical, .scroll-bar:horizontal {
    -fx-background-color: transparent; /* Nền thanh cuộn trong suốt */
}

/* MenuBar */
.menu-bar {
    -fx-background-color: #2A2A2A;
}
.menu-bar .label {
    -fx-text-fill: #E0E0E0;
}
.menu:hover, .menu:showing {
    -fx-background-color: #3A3A3A;
}
.menu-item .label {
    -fx-text-fill: #E0E0E0;
}
.menu-item:focused {
    -fx-background-color: #5C87B2;
}
.menu-item:focused .label {
    -fx-text-fill: white;
}
.context-menu { /* Áp dụng cho cả context menu của menu bar */
    -fx-background-color: #333333;
}


/* --- STATUS BAR STYLES --- */
.status-bar {
    -fx-background-color: #2A2A2A; /* Màu nền giống MenuBar */
    -fx-border-color: #3A3A3A;    /* Viền trên nhẹ */
    -fx-border-width: 1 0 0 0;
    -fx-padding: 5px 10px 5px 10px; /* Padding */
}

#statusLabel {
    -fx-text-fill: #b0b0b0; /* Màu chữ xám nhạt */
    -fx-font-size: 14px;   /* Cỡ chữ nhỏ hơn */
}

#statusIndicator .progress-indicator { /* Style cho vòng quay loading */
    -fx-progress-color: #5C87B2; /* Màu xanh Emby */
}


/* --- TAG VIEW / CHIP STYLES --- */
.tag-view { /* HBox chứa nội dung chip */
    -fx-background-color: transparent; /* Nền của HBox phải trong suốt */
    -fx-padding: 0; /* Bỏ padding của HBox */
    -fx-alignment: center-left;
    -fx-spacing: 5;
}

.chip-toggle-button { /* ToggleButton bao ngoài */
    -fx-background-radius: 15px; /* Bo tròn ToggleButton */
    -fx-border-radius: 15px;
    -fx-padding: 4px 6px 4px 10px; /* Padding cho ToggleButton */
    -fx-cursor: hand;
    -fx-background-color: #383838;
    -fx-border-color: #555555;
    /* KHÔNG set min/max width/height để nó tự dãn theo nội dung */
}

/* Style cho loại chip JSON */
.chip-toggle-button .tag-view-json {
    /* Thẻ JSON có thể có style nền/viền riêng nếu muốn, nhưng thường để ToggleButton xử lý */
}
/* Style chữ bên trong JSON */
.tag-view-json .tag-label-key {
    -fx-text-fill: #b0b0b0; /* Xám nhạt hơn */
    -fx-font-size: 14px;
    -fx-font-style: italic;
}
.tag-view-json .tag-separator {
    -fx-background-color: transparent;
    -fx-border-color: #999;
    -fx-border-width: 0 0 0 1px;
    -fx-padding: 0;
    -fx-max-height: 14px; /* Chiều cao separator */
}
.tag-view-json .tag-label-value {
    -fx-text-fill: #ffffff; /* Trắng */
    -fx-font-size: 14px;
    -fx-font-weight: bold;
}


/* Style cho loại chip Simple */
.chip-toggle-button .tag-view-simple {
    /* Style riêng nếu muốn */
}
/* Style chữ bên trong Simple */
.tag-view-simple .tag-label {
    -fx-text-fill: #e0e0e0; /* Màu chữ mặc định */
    -fx-font-size: 14px;
}

/* Nút xóa bên trong TagView (có thể ẩn đi trong MainController) */
.tag-delete-button {
    -fx-background-color: #555555;
    -fx-text-fill: #e0e0e0;
    -fx-background-radius: 100px;
    -fx-padding: 0px 6px 0px 6px;
    -fx-font-size: 12px;
    -fx-min-width: 20px;
    -fx-min-height: 20px;
    -fx-border-width: 0;
}
.tag-delete-button:hover {
    -fx-background-color: #dc3545; /* Màu đỏ khi hover */
    -fx-text-fill: #ffffff;
}

/* --- Style khi ToggleButton được CHỌN --- */
.chip-toggle-button:selected {
    -fx-background-color: #5C87B2; /* Màu xanh Emby khi chọn */
    -fx-border-color: #7AA0C6;
}
/* Style chữ bên trong khi ToggleButton được chọn */
.chip-toggle-button:selected .tag-label,
.chip-toggle-button:selected .tag-label-key,
.chip-toggle-button:selected .tag-label-value {
    -fx-text-fill: white;
}
.chip-toggle-button:selected .tag-separator {
    -fx-border-color: white;
}
/* Style nút xóa khi ToggleButton được chọn (vẫn giữ màu gốc khi hover) */
.chip-toggle-button:selected .tag-delete-button {
    -fx-background-color: #7AA0C6; /* Nút xóa nhạt hơn khi chọn */
}
.chip-toggle-button:selected .tag-delete-button:hover {
    -fx-background-color: #dc3545; /* Vẫn là màu đỏ khi hover */
}